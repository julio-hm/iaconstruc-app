import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Translations embedded directly as JavaScript objects to prevent encoding issues.

const enTranslation = {
  "header_title": "ConstruIA",
  "header_subtitle": "Intelligent construction calculations.",
  "home_select_calculation": "Select a Calculation",
  "card_wall_name": "Wall Calculation",
  "card_wall_description": "Calculate bricks, mortar, cement, and sand.",
  "card_concrete_name": "Simple Concrete",
  "card_concrete_description": "Calculate cement, sand, gravel, and water by volume.",
  "card_ai_chat_name": "AI Assistant Chat",
  "card_ai_chat_description": "Have a conversation with the construction AI expert.",
  "card_image_analysis_name": "AI Image Analysis",
  "card_image_analysis_description": "Upload an image to get design ideas or material lists.",
  "card_document_analysis_name": "AI Document Analysis",
  "card_document_analysis_description": "Paste text to extract key info, summarize, or ask questions.",
  "card_slab_name": "Lightweight Slab",
  "card_slab_description": "For concrete, steel, and lightweight blocks in slabs.",
  "card_foundation_name": "Foundation",
  "card_foundation_description": "For cyclopean concrete (concrete + stone) and formwork.",
  "coming_soon": "COMING SOON",
  "footer_copy": "© {{year}} ConstruIA. All rights reserved.",
  "calculator_back_button": "← Back to Menu",
  "input_data": "Input Data",
  "calculation_results": "Calculation Results",
  "calculate_button": "Calculate",
  "clear_button": "Clear",
  "generate_report_button": "Generate Report",
  "results_placeholder": "Results will be displayed here after calculation.",
  "table_header_material": "Material",
  "table_header_quantity": "Quantity",
  "table_header_unit": "Unit",
  "table_header_unit_price": "Unit Price",
  "table_header_subtotal": "Subtotal",
  "table_header_waste": "Waste",
  "total_estimated_cost": "Total Estimated Cost",
  "visual_reference": "Visual Reference",
  "wall_form_area": "Wall Area",
  "wall_form_brick_waste": "Brick Waste",
  "wall_form_brick_type": "Brick / Block Type",
  "wall_form_brick_dimensions": "Dimensions (Read-only)",
  "wall_form_length": "Length",
  "wall_form_height": "Height",
  "wall_form_width": "Width",
  "wall_form_mortar_details": "Mortar Details",
  "wall_form_joint_horizontal": "Horizontal Joint",
  "wall_form_joint_vertical": "Vertical Joint",
  "wall_form_mortar_ratio": "Mortar Ratio (Cement:Sand)",
  "wall_form_mortar_waste": "Mortar Waste",
  "wall_form_main_data": "Main Data",
  "concrete_form_volume": "Concrete Volume",
  "concrete_form_waste": "Concrete Waste",
  "concrete_form_resistance": "Concrete Resistance (f'c)",
  "concrete_form_mix_proportion": "Mix Proportion",
  "concrete_form_mix_proportion_desc": "Proportions are set by resistance.",
  "concrete_form_cement": "Cement",
  "concrete_form_sand": "Sand",
  "concrete_form_gravel": "Gravel",
  "slab_form_area": "Slab Area",
  "slab_form_thickness": "Slab Thickness",
  "slab_form_block_dims": "Lightweight Block Dimensions",
  "slab_form_joist_width": "Joist Width",
  "slab_form_concrete_waste": "Concrete Waste",
  "slab_form_steel_waste": "Steel Waste",
  "slab_form_main_data": "Slab Data",
  "foundation_form_length": "Foundation Length",
  "foundation_form_width": "Width",
  "foundation_form_height": "Height",
  "foundation_form_stone_percentage": "Large Stone Percentage",
  "foundation_form_main_data": "Foundation Data",
  "brick_type_red_brick": "Red Clay Brick (24x12x6 cm)",
  "brick_type_light_block": "Lightweight Concrete Block (15x20x40 cm)",
  "brick_type_heavy_block": "Heavyweight Concrete Block (15x20x40 cm)",
  "resistance_100": "100 kg/cm²",
  "resistance_150": "150 kg/cm²",
  "resistance_210": "210 kg/cm² (Standard)",
  "resistance_280": "280 kg/cm²",
  "material_brick": "Bricks / Blocks",
  "material_cement": "Cement",
  "material_sand": "Sand",
  "material_water": "Water",
  "material_gravel": "Gravel",
  "material_steel": "Reinforcement Steel",
  "material_stone": "Large Stone",
  "material_slab_block": "Slab Blocks",
  "unit_brick": "units",
  "unit_cement": "bags",
  "unit_sand": "m³",
  "unit_water": "liters",
  "unit_gravel": "m³",
  "unit_steel": "kg",
  "unit_stone": "m³",
  "unit_slab_block": "units",
  "report_title": "ConstruIA Calculation Report",
  "report_date": "Date",
  "report_calculation_type": "Calculation Type",
  "report_input_parameters": "Input Parameters",
  "report_results_summary": "Results Summary",
  "report_preview_title": "Report Preview",
  "download_csv_button": "Download CSV",
  "download_pdf_button": "Download PDF",
  "close_button": "Close",
  "error_negative_value": "Value cannot be negative.",
  "error_waste_percentage": "Waste cannot exceed 100%.",
  "error_stone_percentage": "Stone percentage must be less than 100%.",
  "save_project_button": "Save Project",
  "saved_projects_title": "Saved Projects",
  "no_saved_projects": "You have no saved projects.",
  "load_project_button": "Load",
  "delete_project_button": "Delete",
  "project_name_prompt": "Enter a name for this project:",
  "confirm_delete_project": "Are you sure you want to delete this project? This action cannot be undone.",
  "ai_assistant_title": "AI Assistant",
  "ai_assistant_placeholder": "After performing a calculation, an 'Analyze' button will appear here to provide AI-powered insights.",
  "ai_assistant_cta": "Ready for an expert opinion on your results?",
  "ai_assistant_analyze_button": "Analyze Results",
  "ai_assistant_find_prices_button": "Find Online Prices",
  "ai_assistant_find_stores_button": "Find Nearby Stores",
  "location_modal_title": "Enter Location for Search",
  "location_modal_placeholder": "e.g., Mexico City, MX or 90210, USA",
  "location_modal_submit_button": "Search",
  "ai_assistant_loading": "Analyzing...",
  "ai_assistant_error": "Sorry, an error occurred. Please try again later.",
  "ai_assistant_generic_error": "An error occurred while communicating with the AI.",
  "ai_assistant_no_results": "The AI did not return a result. This could be due to a vague request, safety filters, or an API configuration issue. Please try rephrasing your request or check your API key permissions.",
  "ai_assistant_summary_received": "AI analysis complete.",
  "ai_assistant_sources_title": "Sources from Google Search:",
  "ai_assistant_analysis_title": "Analysis & Insights",
  "ai_assistant_prices_title": "Online Price Estimates",
  "ai_assistant_stores_title": "Nearby Store Suggestions",
  "lang_name": "English",
  "ai_prompt_calculation_analysis": "Act as an expert construction cost estimator. Your goal is to provide insightful analysis based on the provided calculation data. Your response MUST BE a valid JSON array of objects. Each object represents a single 'insight' and must have three properties: 'type' (a string, must be one of 'suggestion', 'warning', or 'info'), 'title' (a short, catchy string for the insight's header), and 'description' (a concise string, max 2-3 sentences, explaining the insight). Do not repeat the input data in the description. Focus on potential improvements, risks, or common practices. The user's selected language is {{language}}. All string values in the JSON must be in that language.\n\nData:\nCalculation Type: {{calculationType}}\nCurrency: {{currency}}\nInputs: {{inputs}}\nResults: {{results}}\nTotal Cost: {{totalCost}}",
  "ai_prompt_price_search": "Act as a construction procurement manager using Google Search. Your goal is to find current market prices for a list of materials based on a user-provided location. Your response MUST BE a valid JSON array of objects. Each object represents a material and must have four properties: 'materialName' (string), 'averagePrice' (number), 'priceRange' (string, e.g., '10-15'), and 'currency' (string, e.g., 'USD'). Use only information from your search results. The user's selected language is {{language}}. All string values in the JSON must be in that language.\n\nCurrency for prices: {{currency}}\nLocation for search: {{location}}\n\nMaterials to research: {{materials}}",
  "ai_prompt_store_search": "Act as a construction procurement manager using Google Search. Your goal is to find local stores for a list of materials based on a user-provided location. Limit the response to a maximum of 5 of the best and most relevant suppliers. Your response MUST BE a valid JSON array of objects. Each object represents a store and must have three properties: 'name' (string), 'address' (string), and 'reason' (string, a brief explanation of why this store is a good match). Use only information from search results. The user's selected language is {{language}}. All string values in the JSON must be in that language.\n\nLocation for search: {{location}}\n\nMaterials needed: {{materials}}",
  "image_analysis_title": "AI Image Analysis",
  "image_analysis_description": "Upload a sketch, plan, or photo and ask the AI anything.",
  "image_analysis_prompt_label": "Your Request",
  "image_analysis_prompt_placeholder": "e.g., 'What materials are in this facade?' or 'Give me design ideas based on this style.'",
  "image_analysis_submit_button": "Analyze Image",
  "image_analysis_upload_cta": "Click to upload or drag and drop an image",
  "image_analysis_no_image_error": "Please upload an image first.",
  "image_analysis_no_prompt_error": "Please enter a request or question.",
  "image_analysis_ai_placeholder": "Your image analysis will appear here.",
  "document_analysis_title": "AI Document Analysis",
  "document_analysis_description": "Paste text from a spec sheet, contract, or report to get insights.",
  "document_analysis_text_label": "Document Text",
  "document_analysis_text_placeholder": "Paste the full text of your document here...",
  "document_analysis_prompt_label": "Your Request",
  "document_analysis_prompt_placeholder": "e.g., 'Summarize the key points', 'Extract all material specifications', or 'List the payment clauses'.",
  "document_analysis_submit_button": "Analyze Document",
  "document_analysis_no_text_error": "Please paste some document text first.",
  "document_analysis_no_prompt_error": "Please enter a request or question.",
  "document_analysis_ai_placeholder": "Your document analysis will appear here.",
  "ai_prompt_document_analysis": "Act as an expert legal and technical analyst specializing in construction documents. Your task is to carefully analyze the provided document text and answer the user's specific request. Provide a clear, concise, and accurate response based ONLY on the text provided. Do not invent information.\n\nThe user's selected language is: {{language}}. Respond ONLY in that language.\n\nUser's Request: {{request}}\n\nDocument Text:\n---\n{{documentText}}\n---",
  "ai_chat_title": "AI Assistant Chat",
  "ai_chat_description": "Ask me anything about construction, design, materials, or project management.",
  "ai_chat_placeholder": "Type your message here...",
  "ai_chat_send_button": "Send",
  "ai_chat_welcome": "Hello! I am your construction AI assistant. How can I help you today?",
  "ai_chat_system_prompt": "You are 'ConstruIA', an AI assistant specializing exclusively in construction, architecture, and engineering. Your purpose is to provide clear, brief, and helpful answers for a general audience. Never answer questions that are not related to construction. If asked about another topic, politely decline to answer and redirect the conversation back to construction. Your tone should be friendly and approachable. Always answer in the user's specified language: {{language}}.",
  "rounding_footnote": "Quantities for materials sold in whole units have been rounded up for purchasing.",
  "disclaimer_title": "Disclaimer",
  "disclaimer_text": "All calculations are preliminary estimates. Quantities and costs should be verified by a qualified professional before making any purchases or beginning construction."
};

const esTranslation = {
  "header_title": "ConstruIA",
  "header_subtitle": "Cálculos de obra inteligentes.",
  "home_select_calculation": "Selecciona un Cálculo",
  "card_wall_name": "Cálculo de Muro",
  "card_wall_description": "Estima tabiques, mortero y arena.",
  "card_concrete_name": "Concreto Simple",
  "card_concrete_description": "Proporciones para concreto por volumen.",
  "card_ai_chat_name": "Chat con Asistente de IA",
  "card_ai_chat_description": "Consulta a tu experto en construcción.",
  "card_image_analysis_name": "Análisis de Imagen con IA",
  "card_image_analysis_description": "Analiza planos, fotos y bocetos.",
  "card_document_analysis_name": "Análisis de Documento con IA",
  "card_document_analysis_description": "Extrae datos de fichas y reportes.",
  "card_slab_name": "Losa Aligerada",
  "card_slab_description": "Para concreto, acero y bovedillas en losas.",
  "card_foundation_name": "Cimentación",
  "card_foundation_description": "Para concreto ciclópeo (concreto + piedra) y encofrado.",
  "coming_soon": "PRÓXIMAMENTE",
  "footer_copy": "© {{year}} ConstruIA. Todos los derechos reservados.",
  "calculator_back_button": "← Volver al Menú",
  "input_data": "Datos de Entrada",
  "calculation_results": "Resultados del Cálculo",
  "calculate_button": "Calcular",
  "clear_button": "Limpiar",
  "generate_report_button": "Generar Reporte",
  "results_placeholder": "Los resultados se mostrarán aquí después de calcular.",
  "table_header_material": "Material",
  "table_header_quantity": "Cantidad",
  "table_header_unit": "Unidad",
  "table_header_unit_price": "Precio Unitario",
  "table_header_subtotal": "Subtotal",
  "table_header_waste": "Desperdicio",
  "total_estimated_cost": "Costo Total Estimado",
  "visual_reference": "Referencia Visual",
  "wall_form_area": "Área del Muro",
  "wall_form_brick_waste": "% Desperdicio Tabique/Block",
  "wall_form_brick_type": "Tipo de Tabique / Block",
  "wall_form_brick_dimensions": "Dimensiones (Solo lectura)",
  "wall_form_length": "Largo",
  "wall_form_height": "Alto",
  "wall_form_width": "Ancho",
  "wall_form_mortar_details": "Detalles del Mortero",
  "wall_form_joint_horizontal": "Junta Horizontal",
  "wall_form_joint_vertical": "Junta Vertical",
  "wall_form_mortar_ratio": "Proporción Mortero (Cemento:Arena)",
  "wall_form_mortar_waste": "Desperdicio de Mortero",
  "wall_form_main_data": "Datos Principales",
  "results_title": "Resultados del Cálculo",
  "concrete_form_waste": "% Desperdicio Concreto",
  "concrete_form_resistance": "Resistencia del Concreto (f'c)",
  "concrete_form_mix_proportion": "Proporción de Mezcla",
  "concrete_form_mix_proportion_desc": "Las proporciones se basan en la resistencia.",
  "concrete_form_cement": "Cemento",
  "concrete_form_sand": "Arena",
  "concrete_form_gravel": "Grava",
  "slab_form_area": "Área de Losa",
  "slab_form_thickness": "Espesor de Losa",
  "slab_form_block_dims": "Dimensiones de Bovedilla",
  "slab_form_joist_width": "Ancho de Vigueta",
  "slab_form_concrete_waste": "% Desperdicio Concreto",
  "slab_form_steel_waste": "Desperdicio de Acero",
  "slab_form_main_data": "Datos de la Losa",
  "foundation_form_length": "Largo de Cimentación",
  "foundation_form_width": "Ancho",
  "foundation_form_height": "Alto",
  "foundation_form_stone_percentage": "Porcentaje de Piedra de Rajón",
  "foundation_form_main_data": "Datos de la Cimentación",
  "brick_type_red_brick": "Ladrillo Rojo Común (24x12x6 cm)",
  "brick_type_light_block": "Block Ligero de Concreto (15x20x40 cm)",
  "brick_type_heavy_block": "Block Pesado de Concreto (15x20x40 cm)",
  "resistance_100": "100 kg/cm²",
  "resistance_150": "150 kg/cm²",
  "resistance_210": "210 kg/cm² (Estándar)",
  "resistance_280": "280 kg/cm²",
  "material_brick": "Tabiques / Blocks",
  "material_cement": "Cemento",
  "material_sand": "Arena",
  "material_water": "Agua",
  "material_gravel": "Grava",
  "material_steel": "Acero de Refuerzo",
  "material_stone": "Piedra Grande",
  "material_slab_block": "Bovedillas",
  "unit_brick": "pzas",
  "unit_cement": "bolsas",
  "unit_sand": "m³",
  "unit_water": "litros",
  "unit_gravel": "m³",
  "unit_steel": "kg",
  "unit_stone": "m³",
  "unit_slab_block": "pzas",
  "report_title": "Reporte de Cálculo de ConstruIA",
  "report_date": "Fecha",
  "report_calculation_type": "Tipo de Cálculo",
  "report_input_parameters": "Parámetros de Entrada",
  "report_results_summary": "Resumen de Resultados",
  "report_preview_title": "Previsualización de Reporte",
  "download_csv_button": "Descargar CSV",
  "download_pdf_button": "Descargar PDF",
  "close_button": "Cerrar",
  "error_negative_value": "El valor no puede ser negativo.",
  "error_waste_percentage": "El desperdicio no puede exceder el 100%.",
  "error_stone_percentage": "El porcentaje de piedra debe ser menor a 100%.",
  "save_project_button": "Guardar Proyecto",
  "saved_projects_title": "Proyectos Guardados",
  "no_saved_projects": "No tienes proyectos guardados.",
  "load_project_button": "Cargar",
  "delete_project_button": "Eliminar",
  "project_name_prompt": "Ingresa un nombre para este proyecto:",
  "confirm_delete_project": "¿Estás seguro de que quieres eliminar este proyecto? Esta acción no se puede deshacer.",
  "ai_assistant_title": "Asistente de IA",
  "ai_assistant_placeholder": "Después de realizar un cálculo, aparecerá aquí un botón 'Analizar' para recibir sugerencias de la IA.",
  "ai_assistant_cta": "¿Listo para una opinión experta sobre tus resultados?",
  "ai_assistant_analyze_button": "Analizar Resultados",
  "ai_assistant_find_prices_button": "Buscar Precios en Línea",
  "ai_assistant_find_stores_button": "Buscar Tiendas Cercanas",
  "location_modal_title": "Ingresar Ubicación para Búsqueda",
  "location_modal_placeholder": "ej. Ciudad de México, MX o 11520, CDMX",
  "location_modal_submit_button": "Buscar",
  "ai_assistant_loading": "Analizando...",
  "ai_assistant_error": "Lo siento, ocurrió un error. Por favor, inténtalo de nuevo más tarde.",
  "ai_assistant_generic_error": "Ocurrió un error al comunicarse con la IA.",
  "ai_assistant_no_results": "La IA no devolvió ningún resultado. Esto podría deberse a una solicitud vaga, filtros de seguridad o un problema de configuración de la API. Por favor, intenta reformular tu petición o revisa los permisos de tu clave de API.",
  "ai_assistant_summary_received": "Análisis de IA completado.",
  "ai_assistant_sources_title": "Fuentes de Búsqueda de Google:",
  "ai_assistant_analysis_title": "Análisis y Sugerencias",
  "ai_assistant_prices_title": "Precios Estimados en Línea",
  "ai_assistant_stores_title": "Sugerencias de Tiendas Cercanas",
  "lang_name": "Español",
  "ai_prompt_calculation_analysis": "Actúa como un experto estimador de costos de construcción. Tu objetivo es proporcionar un análisis perspicaz basado en los datos de cálculo proporcionados. Tu respuesta DEBE SER un arreglo JSON válido de objetos. Cada objeto representa una 'sugerencia' y debe tener tres propiedades: 'type' (una cadena, debe ser 'suggestion', 'warning' o 'info'), 'title' (una cadena corta y llamativa para el encabezado), y 'description' (una cadena concisa, máx. 2-3 frases, que explique la sugerencia). No repitas los datos de entrada en la descripción. Enfócate en posibles mejoras, riesgos o prácticas comunes. El idioma del usuario es {{language}}. Todos los valores de cadena en el JSON deben estar en ese idioma.\n\nDatos:\nTipo de Cálculo: {{calculationType}}\nMoneda: {{currency}}\nEntradas: {{inputs}}\nResultados: {{results}}\nCosto Total: {{totalCost}}",
  "ai_prompt_price_search": "Actúa como un gerente de compras de construcción usando la Búsqueda de Google. Tu objetivo es encontrar precios de mercado actuales para una lista de materiales basándote en la ubicación del usuario. Tu respuesta DEBE SER un arreglo JSON válido de objetos. Cada objeto representa un material y debe tener cuatro propiedades: 'materialName' (cadena), 'averagePrice' (número), 'priceRange' (cadena, ej: '180-220'), y 'currency' (cadena, ej: 'MXN'). Usa solo información de tus resultados de búsqueda. El idioma del usuario es {{language}}. Todos los valores de cadena en el JSON deben estar en ese idioma.\n\nMoneda para los precios: {{currency}}\nUbicación para la búsqueda: {{location}}\n\nMateriales a investigar: {{materials}}",
  "ai_prompt_store_search": "Actúa como un gerente de compras de construcción usando la Búsqueda de Google. Tu objetivo es encontrar tiendas locales para una lista de materiales basándote en la ubicación del usuario. Limita la respuesta a un máximo de 5 de los mejores y más relevantes proveedores. Tu respuesta DEBE SER un arreglo JSON válido de objetos. Cada objeto representa una tienda y debe tener tres propiedades: 'name' (cadena), 'address' (cadena), y 'reason' (cadena, una breve explicación de por qué la tienda es una buena opción). Usa solo información de los resultados de búsqueda. El idioma del usuario es {{language}}. Todos los valores de cadena en el JSON deben estar en ese idioma.\n\nUbicación para la búsqueda: {{location}}\n\nMateriales necesarios: {{materials}}",
  "image_analysis_title": "Análisis de Imagen con IA",
  "image_analysis_description": "Sube un boceto, plano o foto y pregúntale lo que quieras a la IA.",
  "image_analysis_prompt_label": "Tu Petición",
  "image_analysis_prompt_placeholder": "ej: '¿Qué materiales hay en esta fachada?' o 'Dame ideas de diseño basadas en este estilo.'",
  "image_analysis_submit_button": "Analizar Imagen",
  "image_analysis_upload_cta": "Haz clic para subir o arrastra y suelta una imagen",
  "image_analysis_no_image_error": "Por favor, primero sube una imagen.",
  "image_analysis_no_prompt_error": "Por favor, escribe una petición o pregunta.",
  "image_analysis_ai_placeholder": "El análisis de tu imagen aparecerá aquí.",
  "document_analysis_title": "Análisis de Documento con IA",
  "document_analysis_description": "Pega texto de una ficha técnica, contrato o reporte para obtener análisis.",
  "document_analysis_text_label": "Texto del Documento",
  "document_analysis_text_placeholder": "Pega el texto completo de tu documento aquí...",
  "document_analysis_prompt_label": "Tu Petición",
  "document_analysis_prompt_placeholder": "ej: 'Resume los puntos clave', 'Extrae todas las especificaciones de materiales', o 'Lista las cláusulas de pago'.",
  "document_analysis_submit_button": "Analizar Documento",
  "document_analysis_no_text_error": "Por favor, primero pega el texto de un documento.",
  "document_analysis_no_prompt_error": "Por favor, escribe una petición o pregunta.",
  "document_analysis_ai_placeholder": "El análisis de tu documento aparecerá aquí.",
  "ai_prompt_document_analysis": "Actúa como un analista experto legal y técnico, especializado en documentos de construcción. Tu tarea es analizar cuidadosamente el texto del documento proporcionado y responder a la solicitud específica del usuario. Proporciona una respuesta clara, concisa y precisa basada ÚNICAMENTE en el texto proporcionado. No inventes información.\n\nEl idioma seleccionado por el usuario es: {{language}}. Responde ÚNICAMENTE en ese idioma.\n\nSolicitud del Usuario: {{request}}\n\nTexto del Documento:\n---\n{{documentText}}\n---",
  "ai_chat_title": "Chat con Asistente de IA",
  "ai_chat_description": "Pregúntame cualquier cosa sobre construcción, diseño, materiales o gestión de proyectos.",
  "ai_chat_placeholder": "Escribe tu mensaje aquí...",
  "ai_chat_send_button": "Enviar",
  "ai_chat_welcome": "¡Hola! Soy tu asistente de construcción de IA. ¿En qué puedo ayudarte hoy?",
  "ai_chat_system_prompt": "Eres 'ConstruIA', un asistente de IA especializado exclusivamente en construcción, arquitectura e ingeniería. Tu propósito es dar respuestas claras, breves y útiles para un público general. Nunca respondas preguntas que no estén relacionadas con la construcción. Si te preguntan sobre otro tema, amablemente niégate a responder y redirige la conversación a la construcción. Tu tono debe ser amigable y accesible. Responde siempre en el idioma del usuario: {{language}}.",
  "rounding_footnote": "Las cantidades de materiales que se venden en unidades enteras han sido redondeadas hacia arriba para la compra.",
  "disclaimer_title": "Aviso",
  "disclaimer_text": "Todos los cálculos son estimaciones preliminares. Las cantidades y costos deben ser verificados por un profesional calificado antes de realizar cualquier compra o comenzar la construcción."
};

const resources = {
  en: {
    translation: enTranslation
  },
  es: {
    translation: esTranslation
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    lng: 'es', // Forzar idioma inicial (puedes cambiar a 'en' si prefieres)
    fallbackLng: ['es', 'en'],
    interpolation: {
      escapeValue: false // React already safes from xss
    },
    detection: {
      // Deshabilitar caches para evitar problemas SSR/CSR
      caches: [],
      // Puedes agregar order si quieres forzar el orden de detección
      // order: ['localStorage', 'navigator'],
    }
  });

export default i18n;
